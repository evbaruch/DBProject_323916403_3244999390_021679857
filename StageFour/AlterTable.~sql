-- Disable constraints
ALTER TABLE EMPLOYEE DISABLE CONSTRAINT FK_EMPLOYEE_DEPARTMENT;
ALTER TABLE EMPLOYEE DISABLE CONSTRAINT FK_EMPLOYEE_POSITION;
ALTER TABLE EMPLOYEE DISABLE CONSTRAINT PK_EMPLOYEE;

-- Add branchid column to EMPLOYEE table
ALTER TABLE EMPLOYEE
ADD (branchid NUMBER(20) NOT NULL);

-- Add new foreign key constraint
ALTER TABLE EMPLOYEE
ADD CONSTRAINT FK_EMPLOYEE_BRANCH FOREIGN KEY (branchid)
REFERENCES Branch (BranchID)
ON DELETE CASCADE;

-- Enable constraints again
ALTER TABLE EMPLOYEE ENABLE CONSTRAINT FK_EMPLOYEE_DEPARTMENT;
ALTER TABLE EMPLOYEE ENABLE CONSTRAINT FK_EMPLOYEE_POSITION;
ALTER TABLE EMPLOYEE ENABLE CONSTRAINT PK_EMPLOYEE;
